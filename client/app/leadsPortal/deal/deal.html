<div ng-include="'components/navbar/navbar.html'"></div>
<div>
	<h1>Welcome to Leads portal</h1>

	<md-content>
    	<md-card>
	      	<div class="md-actions" layout="row" layout-align="end center">
				<md-button class="md-raised md-primary" ng-click="dealModal()">
					Edit Deal
				</md-button>
	      	</div>
      		<md-card-content>
        		<h2 class="md-display-1"> Deal Details </h2>
					<md-divider></md-divider>
				    <md-list>
					    <md-list-item class="md-3-line">
					        <div class="md-list-item-text">
						        <h3> Title </h3>
						        <p>{{ deal.title }}</p>
					        </div>
					    </md-list-item>
					    <md-list-item class="md-3-line">
					        <div class="md-list-item-text">
						        <h3> Info </h3>
						        <p>{{ deal.info }}</p>
					        </div>
					    </md-list-item>
					    <md-list-item class="md-3-line">
					        <div class="md-list-item-text">
						        <h3> Company Name </h3>
						        <p>{{ deal.companyName }}</p>
					        </div>
					    </md-list-item>
					    <md-list-item class="md-3-line">
					        <div class="md-list-item-text">
						        <h3> PoC's Name </h3>
						        <p>{{ deal.initialPointOfContactName }}</p>
					        </div>
					    </md-list-item>
					    <md-list-item class="md-3-line">
					        <div class="md-list-item-text">
						        <h3> PoC's Email Id </h3>
						        <p>{{ deal.initialPointOfContactEmail }}</p>
					        </div>
					    </md-list-item>
					    <md-list-item class="md-3-line">
					        <div class="md-list-item-text">
						        <h3> PoC's Phone Number </h3>
						        <p>{{ deal.initialPointOfContactNumber }}</p>
					        </div>
					    </md-list-item>
					    <md-list-item class="md-3-line">
					        <div class="md-list-item-text">
						        <h3> Assingned to </h3>
						        <p>{{ deal.assignees }}</p>
					        </div>
					    </md-list-item>
					    <md-list-item class="md-3-line">
					        <div class="md-list-item-text">
						        <h3> Created On </h3>
						        <p>{{ deal.createdOn | date: 'medium' }}</p>
					        </div>
					    </md-list-item>
					    <md-list-item class="md-3-line">
					        <div class="md-list-item-text">
						        <h3> Last Updated On </h3>
						        <p>{{ deal.updatedOn | date: 'medium' }}</p>
					        </div>
					    </md-list-item>
				    </md-list>
      		</md-card-content>
    	</md-card>
    </md-content>

	<md-content>
    	<md-card>
      		<md-card-content>
		      	<div class="md-actions" layout="row" layout-align="end center">
					<md-button class="md-raised md-accent" ng-click="updateCreateModal()">
						Create Update
					</md-button>
		      	</div>
        		<h2 class="md-display-1"> Updates </h2>
					<md-divider></md-divider>
					<!-- <span ng-show="!(deal.updates.length)">No updates as of now</span> -->
					<div ng-hide="(deal.updates.length)" layout="column" layout-fill style="padding-bottom: 32px;">
						<md-whiteframe class="md-whiteframe-z1" style="background:#fff; margin:20px; padding: 20px;" layout layout-align="left center">
						    <span>No updates as of now</span>
						</md-whiteframe>
					</div>
					<div ng-show="(deal.updates.length)" layout="column" layout-fill style="padding-bottom: 32px;" ng-repeat="update in deal.updates">
				      	<div class="md-actions" layout="row" layout-align="end center">
							<md-button class="md-raised md-primary" ng-click="updateModal(update)">
								Edit this Update
							</md-button>
				      	</div>						
						<md-whiteframe class="md-whiteframe-z1" style="background:#fff; margin:20px; padding: 20px;" layout layout-align="left center">
						    <span>{{update}}</span>
						</md-whiteframe>
					</div>

			</md-card-content>
		</md-card>
	<md-content>



	<div id="updateModal" class="modal fade" role="dialog">
		<div class="modal-dialog">

			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Add a Update</h4>
				</div>
				<form class="form-horizontal" name="form" role="form" ng-submit="newUpdate(form)">
				<div class="modal-body">
					<div class="container">
							<div class="form-group">
								<label class="control-label col-sm-1" for="title">Title</label>
								<div class="col-sm-5">
									<input type="text" class="form-control" id="title" ng-model="update.title" placeholder="Enter title">
								</div>
							</div>
							<div class="form-group">
								<label class="control-label col-sm-1" for="summary">Summary</label>
								<div class="col-sm-5">          
									<textarea class="form-control" id="summary" ng-model="update.summary" placeholder="Enter Info">
									</textarea>
								</div>
							</div>
							<div class="form-group">
								<label class="control-label col-sm-1" for="poc_name">POC Name</label>
								<div class="col-sm-5">          
									<input type="text" class="form-control" id="poc_name" ng-model="update.pointOfContactName" placeholder="Enter Name">
								</div>
							</div>
							<div class="form-group">
								<label class="control-label col-sm-1" for="poc_phone">POC Phone</label>
								<div class="col-sm-5">          
									<input type="number" class="form-control" id="poc_phone" ng-model="update.pointOfContactNumber" placeholder="Enter Phone number">
								</div>
							</div>
							<div class="form-group">
								<label class="control-label col-sm-1" for="poc_email">POC Email</label>
								<div class="col-sm-5">          
									<input type="email" class="form-control" id="poc_email" ng-model="update.pointOfContactEmail" placeholder="Enter Email">
								</div>
							</div>    
			</div>
		</div>
		<div class="modal-footer">
			<button type="submit" class="btn btn-default">Add</button>
			<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>     
		</div>
		</form>
</div>
</div>
</div>
</div>
